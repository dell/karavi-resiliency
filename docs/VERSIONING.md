<!--
Copyright (c) 2021 Dell Inc., or its subsidiaries. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0
-->

# Versioning

Karavi Resiliency follows Semantic Versioning as defined on [http://semver.org/](http://semver.org), with the addition of the "v" prefix to match the accepted style of Golang projects.

Artifacts published must belong to one of the following categories:
  * "Releases", i.e. artifacts that have versions that follow the `vX.Y.Z` format,
    where `X` is called "major version", `Y` is called "minor version"
    and `Z` is called "patch version".
  * "Pre-releases", i.e. artifacts that have versions that follow the `vX.Y.Z-suffix` format,
    where `X`, `Y` and `Z` are called the same as above, and `suffix` is
    an arbitrary suffix created by a human or generated by a tool.

## Major releases

"Major releases" are artifacts published as `vX.0.0`:
  * An artifact must be released as `vX.0.0` if and only if
    the difference between the current code and the code that
    has been published as `v{X-1}.0.0`contains changes to:
    - Any changes that change the behaviour of existing infrastructure
    - Any changes that prevents you to deploy over and existing stack
    - Any CLI command being removed or changed
    - `v{X+1}.0.0` is strongly encouraged to be backward compatible with `vX.Y.Z` modulo deprecation warnings:
        * It is desirable to compilable against `vX.Y.Z` to be compilable against `v{X+1}.0.0` modulo deprecation warnings.
        * It is desirable to linkable against `vX.Y.Z` to be linkable with `v{X+1}.0.0`.

 
## Minor releases

"Minor releases" are artifacts published as `vX.Y.0`:
  * An artifact must be released as `vX.Y.0` if and only if
    the difference between the current code and the code
    that has been published as `vX.0.0`, changes to `vX.{Y+1}.0` must be backward compatible with `vX.Y.0`:
    * It is desirable to compilable against `vX.Y.0` must be compilable against `vX.{Y+1}.Z` without deprecation warnings.
    * It is desirable to linkable against `vX.Y.0` must be linkable against `vX.{Y+1}.Z`.

## Patch releases

"Patch releases" are artifacts published as `vX.Y.Z`:
  * An artifact must be released as `vX.Y.Z` if and only if
    the difference between the current code and the code
    that has been published as `vX.Y.0`.
  * A release only containing backwards-compatible bug fixes.

## Pre-releases

"Pre-releases" are artifacts published as `vX.Y.Z-suffix`:
  * An artifact may be published as `vX.Y.Z-suffix` if and only if:
      1) There exists an `vX.Y.Z` release, and
      2) There exist neither `v{X+1}.0.0`, nor `vX.{Y+1}.0`, nor `vX.Y.{Z+1}` releases.
      3) `suffix` is in compliance with [semantic versioning](https://semver.org/).
      4) `suffix` does not equal `SNAPSHOT`.
